{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css">
{% endblock %}
{{ form_start(form) }}
<div class="row">
    <div class="col-md-10">{{ form_row(form.name) }}</div>
    <div class="col-md-10">{{ form_row(form.projects) }}</div>
    <div class="col-md-10">{{ form_row(form.trainType) }}</div>

    <div class="content-type-train col-md-12 mt-4" id="select_locomotive">
        <h4>Select EVC : </h4>
        <img src="{{ asset('/build/img/trains/locomotive-select.svg') }}" alt="" class="col-md-10 img-type-train">
        <figure class="content-evc col-md-10">
            <img src="{{ asset('/build/img/trains/evc.svg') }}" alt="" class="evc " id="evc-loco-1">
            <img src="{{ asset('/build/img/trains/evc.svg') }}" alt="" class="evc " id="evc-loco-2">
            <img src="{{ asset('/build/img/trains/evc.svg') }}" alt="" class="evc " id="evc-loco-3">
        </figure>
    </div>

    <div class="content-type-train col-md-12 mt-4" id="select_train">
        <h4>Select EVC : </h4>
        <img src="{{ asset('/build/img/trains/train-select.svg') }}" alt="" class="col-md-10  img-type-train">
        <figure class="content-evc col-md-10">
            <img src="{{ asset('/build/img/trains/evc.svg') }}" alt="" class="evc" id="evc-train-1">
            <img src="{{ asset('/build/img/trains/evc.svg') }}" alt="" class="evc" id="evc-train-2">
        </figure>
    </div>
    <div class="content-choice-evc col-md-10 mt-4" id="select-evc-train">
       {{ form_row(form.eVC) }}
    </div>

</div>
<button class="btn btn-primary mt-4">{{ button|default('Send') }}</button>
{{ form_end(form) }}



{% block javascripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script>

//        $('#select_train').hide();
//        $('#select_locomotive').hide();
$(document).ready(function() {
    $('#trains_trainType')

        .change(function () {

            let current_choice = "";

            $("#trains_trainType option:selected").each(function () {

                current_choice += $(this).text() + " ";

            });

            if (current_choice.trim() == 'Train') {
                $('#select_train').show();
                $('#select_locomotive').hide();

                $('#evc-train-1').click(function () {
                    $('#evc-train-1').addClass("selected");
                    $('#evc-train-2').removeClass("selected");
                    $('#select-evc-train').show();

                });
                $('#evc-train-2').click(function () {
                    $('#evc-train-2').addClass("selected");
                    $('#evc-train-1').removeClass("selected");
                    $('#select-evc-train').show();

                });


            } else if (current_choice.trim() == 'Locomotive') {

                $('#select_locomotive').show();
                $('#select_train').hide();

                $('#evc-loco-1').click(function () {
                    $('#evc-loco-1').addClass("selected");
                    $('#evc-loco-2').removeClass("selected");
                    $('#select-evc-train').show();

                });
                $('#evc-loco-2').click(function () {
                    $('#evc-loco-2').addClass("selected");
                    $('#evc-loco-1').removeClass("selected");
                    $('#evc-loco-3').removeClass("selected");
                    $('#select-evc-train').show();
                });
                $('#evc-loco-3').click(function () {
                    $('#evc-loco-3').addClass("selected");
                    $('#evc-loco-2').removeClass("selected");
                    $('#select-evc-train').show();
                });


            }

        }).change();
})

    </script>
{% endblock %}
